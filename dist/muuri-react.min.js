/**
 * Muuri-react v3.1.6
 * https://paol-imi.github.io/muuri-react
 * Copyright (c) 2020-present, paol-imi
 * Released under the MIT license
 * https://github.com/paol-imi/muuri-react/blob/master/LICENSE
 * @license MIT
 */
!(function (e, t) {
  'object' == typeof exports && 'undefined' != typeof module
    ? t(exports, require('muuri'), require('react'))
    : 'function' == typeof define && define.amd
    ? define(['exports', 'muuri', 'react'], t)
    : t(
        ((e =
          'undefined' != typeof globalThis
            ? globalThis
            : e || self).MuuriReact = {}),
        e.Muuri,
        e.React
      );
})(this, function (e, t, n) {
  'use strict';
  function r(e) {
    return e && 'object' == typeof e && 'default' in e ? e : { default: e };
  }
  var o = r(t),
    i = r(n);
  function a(e, t, n) {
    return (
      t in e
        ? Object.defineProperty(e, t, {
            value: n,
            enumerable: !0,
            configurable: !0,
            writable: !0,
          })
        : (e[t] = n),
      e
    );
  }
  var u = '_component';
  function s(e) {
    return !!e[u];
  }
  function l(e, t) {
    var n = Object.keys(e);
    if (Object.getOwnPropertySymbols) {
      var r = Object.getOwnPropertySymbols(e);
      t &&
        (r = r.filter(function (t) {
          return Object.getOwnPropertyDescriptor(e, t).enumerable;
        })),
        n.push.apply(n, r);
    }
    return n;
  }
  function c(e, t) {
    s(e)
      ? Object.assign(e[u], t)
      : (e[u] = (function (e) {
          for (var t = 1; t < arguments.length; t++) {
            var n = null != arguments[t] ? arguments[t] : {};
            t % 2
              ? l(Object(n), !0).forEach(function (t) {
                  a(e, t, n[t]);
                })
              : Object.getOwnPropertyDescriptors
              ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n))
              : l(Object(n)).forEach(function (t) {
                  Object.defineProperty(
                    e,
                    t,
                    Object.getOwnPropertyDescriptor(n, t)
                  );
                });
          }
          return e;
        })({}, t));
  }
  function f(e) {
    return e[u];
  }
  function d(e) {
    e._component = null;
  }
  (o.default.prototype.getId = function () {
    return f(this).id;
  }),
    (o.default.prototype.getGroupIds = function () {
      return f(this).groupIds;
    }),
    (o.default.prototype.getSizerElement = function () {
      return f(this).sizerElement;
    }),
    (o.default.Item.prototype.getKey = function () {
      return f(this).key;
    }),
    (o.default.Item.prototype.getProps = function () {
      return f(this).props;
    }),
    (o.default.Item.prototype.getData = function () {
      return f(this).data;
    }),
    (o.default.Item.prototype.setData = function (e) {
      f(this).data = e;
    });
  var p = o.default.prototype.getItem;
  function g() {
    return (g =
      Object.assign ||
      function (e) {
        for (var t = 1; t < arguments.length; t++) {
          var n = arguments[t];
          for (var r in n)
            Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
        }
        return e;
      }).apply(this, arguments);
  }
  function h(e) {
    return (h =
      'function' == typeof Symbol && 'symbol' == typeof Symbol.iterator
        ? function (e) {
            return typeof e;
          }
        : function (e) {
            return e &&
              'function' == typeof Symbol &&
              e.constructor === Symbol &&
              e !== Symbol.prototype
              ? 'symbol'
              : typeof e;
          })(e);
  }
  function m(e, t) {
    return e((t = { exports: {} }), t.exports), t.exports;
    /** @license React v16.13.1
     * react-is.production.min.js
     *
     * Copyright (c) Facebook, Inc. and its affiliates.
     *
     * This source code is licensed under the MIT license found in the
     * LICENSE file in the root directory of this source tree.
     */
  }
  o.default.prototype.getItem = function (e) {
    return 'string' == typeof e
      ? this._items.find(function (t) {
          return f(t).key === e;
        })
      : p.apply(this, e);
  };
  var y = 'function' == typeof Symbol && Symbol.for,
    v = y ? Symbol.for('react.element') : 60103,
    b = y ? Symbol.for('react.portal') : 60106,
    C = y ? Symbol.for('react.fragment') : 60107,
    O = y ? Symbol.for('react.strict_mode') : 60108,
    S = y ? Symbol.for('react.profiler') : 60114,
    _ = y ? Symbol.for('react.provider') : 60109,
    w = y ? Symbol.for('react.context') : 60110,
    T = y ? Symbol.for('react.async_mode') : 60111,
    R = y ? Symbol.for('react.concurrent_mode') : 60111,
    E = y ? Symbol.for('react.forward_ref') : 60112,
    P = y ? Symbol.for('react.suspense') : 60113,
    I = y ? Symbol.for('react.suspense_list') : 60120,
    j = y ? Symbol.for('react.memo') : 60115,
    D = y ? Symbol.for('react.lazy') : 60116,
    x = y ? Symbol.for('react.block') : 60121,
    k = y ? Symbol.for('react.fundamental') : 60117,
    A = y ? Symbol.for('react.responder') : 60118,
    M = y ? Symbol.for('react.scope') : 60119;
  function F(e) {
    if ('object' == typeof e && null !== e) {
      var t = e.$$typeof;
      switch (t) {
        case v:
          switch ((e = e.type)) {
            case T:
            case R:
            case C:
            case S:
            case O:
            case P:
              return e;
            default:
              switch ((e = e && e.$$typeof)) {
                case w:
                case E:
                case D:
                case j:
                case _:
                  return e;
                default:
                  return t;
              }
          }
        case b:
          return t;
      }
    }
  }
  function H(e) {
    return F(e) === R;
  }
  var G = {
      AsyncMode: T,
      ConcurrentMode: R,
      ContextConsumer: w,
      ContextProvider: _,
      Element: v,
      ForwardRef: E,
      Fragment: C,
      Lazy: D,
      Memo: j,
      Portal: b,
      Profiler: S,
      StrictMode: O,
      Suspense: P,
      isAsyncMode: function (e) {
        return H(e) || F(e) === T;
      },
      isConcurrentMode: H,
      isContextConsumer: function (e) {
        return F(e) === w;
      },
      isContextProvider: function (e) {
        return F(e) === _;
      },
      isElement: function (e) {
        return 'object' == typeof e && null !== e && e.$$typeof === v;
      },
      isForwardRef: function (e) {
        return F(e) === E;
      },
      isFragment: function (e) {
        return F(e) === C;
      },
      isLazy: function (e) {
        return F(e) === D;
      },
      isMemo: function (e) {
        return F(e) === j;
      },
      isPortal: function (e) {
        return F(e) === b;
      },
      isProfiler: function (e) {
        return F(e) === S;
      },
      isStrictMode: function (e) {
        return F(e) === O;
      },
      isSuspense: function (e) {
        return F(e) === P;
      },
      isValidElementType: function (e) {
        return (
          'string' == typeof e ||
          'function' == typeof e ||
          e === C ||
          e === R ||
          e === S ||
          e === O ||
          e === P ||
          e === I ||
          ('object' == typeof e &&
            null !== e &&
            (e.$$typeof === D ||
              e.$$typeof === j ||
              e.$$typeof === _ ||
              e.$$typeof === w ||
              e.$$typeof === E ||
              e.$$typeof === k ||
              e.$$typeof === A ||
              e.$$typeof === M ||
              e.$$typeof === x))
        );
      },
      typeOf: F,
    },
    $ = m(function (e, t) {}),
    q =
      ($.AsyncMode,
      $.ConcurrentMode,
      $.ContextConsumer,
      $.ContextProvider,
      $.Element,
      $.ForwardRef,
      $.Fragment,
      $.Lazy,
      $.Memo,
      $.Portal,
      $.Profiler,
      $.StrictMode,
      $.Suspense,
      $.isAsyncMode,
      $.isConcurrentMode,
      $.isContextConsumer,
      $.isContextProvider,
      $.isElement,
      $.isForwardRef,
      $.isFragment,
      $.isLazy,
      $.isMemo,
      $.isPortal,
      $.isProfiler,
      $.isStrictMode,
      $.isSuspense,
      $.isValidElementType,
      $.typeOf,
      m(function (e) {
        e.exports = G;
      }),
      Object.getOwnPropertySymbols),
    L = Object.prototype.hasOwnProperty,
    z = Object.prototype.propertyIsEnumerable;
  function N(e) {
    if (null == e)
      throw new TypeError(
        'Object.assign cannot be called with null or undefined'
      );
    return Object(e);
  }
  (function () {
    try {
      if (!Object.assign) return !1;
      var e = new String('abc');
      if (((e[5] = 'de'), '5' === Object.getOwnPropertyNames(e)[0])) return !1;
      for (var t = {}, n = 0; n < 10; n++) t['_' + String.fromCharCode(n)] = n;
      if (
        '0123456789' !==
        Object.getOwnPropertyNames(t)
          .map(function (e) {
            return t[e];
          })
          .join('')
      )
        return !1;
      var r = {};
      return (
        'abcdefghijklmnopqrst'.split('').forEach(function (e) {
          r[e] = e;
        }),
        'abcdefghijklmnopqrst' === Object.keys(Object.assign({}, r)).join('')
      );
    } catch (e) {
      return !1;
    }
  })() && Object.assign,
    Function.call.bind(Object.prototype.hasOwnProperty);
  function V() {}
  function U() {}
  U.resetWarningCache = V;
  var W = m(function (e) {
      e.exports = (function () {
        function e(e, t, n, r, o, i) {
          if ('SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED' !== i) {
            var a = new Error(
              'Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types'
            );
            throw ((a.name = 'Invariant Violation'), a);
          }
        }
        function t() {
          return e;
        }
        e.isRequired = e;
        var n = {
          array: e,
          bool: e,
          func: e,
          number: e,
          object: e,
          string: e,
          symbol: e,
          any: e,
          arrayOf: t,
          element: e,
          elementType: e,
          instanceOf: t,
          node: e,
          objectOf: t,
          oneOf: t,
          oneOfType: t,
          shape: t,
          exact: t,
          checkPropTypes: U,
          resetWarningCache: V,
        };
        return (n.PropTypes = n), n;
      })();
    }),
    B = n.createContext({}),
    K = B.Provider,
    Z = function () {
      return n.useContext(B);
    };
  B.displayName = 'GridProvider';
  var Y = n.createContext({}),
    J = Y.Provider,
    Q = function () {
      return n.useContext(Y);
    };
  function X(e, t) {
    if (!(e instanceof t))
      throw new TypeError('Cannot call a class as a function');
  }
  function ee(e, t) {
    for (var n = 0; n < t.length; n++) {
      var r = t[n];
      (r.enumerable = r.enumerable || !1),
        (r.configurable = !0),
        'value' in r && (r.writable = !0),
        Object.defineProperty(e, r.key, r);
    }
  }
  function te(e, t, n) {
    return t && ee(e.prototype, t), n && ee(e, n), e;
  }
  Y.displayName = 'ItemProvider';
  var ne = (function () {
      function e() {
        X(this, e),
          a(this, '_eventsMap', new Map()),
          a(this, '_payloadsMap', new Map());
      }
      return (
        te(e, [
          {
            key: 'enableEvent',
            value: function (e, t) {
              this._eventsMap.set(e, t);
            },
          },
          {
            key: 'emitEvent',
            value: function (e, t) {
              this.isEnabled(e) &&
                (this._payloadsMap.set(e, t), this._eventsMap.get(e)());
            },
          },
          {
            key: 'getPayload',
            value: function (e) {
              return this._payloadsMap.get(e);
            },
          },
          {
            key: 'isEnabled',
            value: function (e) {
              return this._eventsMap.has(e);
            },
          },
          {
            key: 'destroy',
            value: function () {
              this._eventsMap.clear(), this._payloadsMap.clear();
            },
          },
        ]),
        e
      );
    })(),
    re = (function () {
      function e() {
        X(this, e), a(this, '_requests', []);
      }
      return (
        te(e, [
          {
            key: 'useInit',
            value: function () {
              this._requests = [];
            },
          },
          {
            key: 'emit',
            value: function (e) {
              for (var t = 0; t < this._requests.length; t++)
                this._requests[t](e[t]);
            },
          },
          {
            key: 'requestItem',
            value: function (e) {
              this._requests.push(e);
            },
          },
          {
            key: 'destroy',
            value: function () {
              this._requests = [];
            },
          },
        ]),
        e
      );
    })();
  function oe(e, t) {
    return (oe =
      Object.setPrototypeOf ||
      function (e, t) {
        return (e.__proto__ = t), e;
      })(e, t);
  }
  function ie(e, t) {
    return !t || ('object' !== h(t) && 'function' != typeof t)
      ? (function (e) {
          if (void 0 === e)
            throw new ReferenceError(
              "this hasn't been initialised - super() hasn't been called"
            );
          return e;
        })(e)
      : t;
  }
  function ae(e) {
    return (ae = Object.setPrototypeOf
      ? Object.getPrototypeOf
      : function (e) {
          return e.__proto__ || Object.getPrototypeOf(e);
        })(e);
  }
  function ue() {
    if ('undefined' == typeof Reflect || !Reflect.construct) return !1;
    if (Reflect.construct.sham) return !1;
    if ('function' == typeof Proxy) return !0;
    try {
      return (
        Date.prototype.toString.call(
          Reflect.construct(Date, [], function () {})
        ),
        !0
      );
    } catch (e) {
      return !1;
    }
  }
  function se(e, t, n) {
    return (se = ue()
      ? Reflect.construct
      : function (e, t, n) {
          var r = [null];
          r.push.apply(r, t);
          var o = new (Function.bind.apply(e, r))();
          return n && oe(o, n.prototype), o;
        }).apply(null, arguments);
  }
  function le(e) {
    var t = 'function' == typeof Map ? new Map() : void 0;
    return (le = function (e) {
      if (
        null === e ||
        ((n = e), -1 === Function.toString.call(n).indexOf('[native code]'))
      )
        return e;
      var n;
      if ('function' != typeof e)
        throw new TypeError(
          'Super expression must either be null or a function'
        );
      if (void 0 !== t) {
        if (t.has(e)) return t.get(e);
        t.set(e, r);
      }
      function r() {
        return se(e, arguments, ae(this).constructor);
      }
      return (
        (r.prototype = Object.create(e.prototype, {
          constructor: {
            value: r,
            enumerable: !1,
            writable: !0,
            configurable: !0,
          },
        })),
        oe(r, e)
      );
    })(e);
  }
  function ce(e) {
    var t = (function () {
      if ('undefined' == typeof Reflect || !Reflect.construct) return !1;
      if (Reflect.construct.sham) return !1;
      if ('function' == typeof Proxy) return !0;
      try {
        return (
          Date.prototype.toString.call(
            Reflect.construct(Date, [], function () {})
          ),
          !0
        );
      } catch (e) {
        return !1;
      }
    })();
    return function () {
      var n,
        r = ae(e);
      if (t) {
        var o = ae(this).constructor;
        n = Reflect.construct(r, arguments, o);
      } else n = r.apply(this, arguments);
      return ie(this, n);
    };
  }
  var fe = (function (e) {
    !(function (e, t) {
      if ('function' != typeof t && null !== t)
        throw new TypeError(
          'Super expression must either be null or a function'
        );
      (e.prototype = Object.create(t && t.prototype, {
        constructor: { value: e, writable: !0, configurable: !0 },
      })),
        t && oe(e, t);
    })(n, e);
    var t = ce(n);
    function n(e) {
      var r;
      return X(this, n), ((r = t.call(this, e)).name = 'Invariant'), r;
    }
    return n;
  })(le(Error));
  function de(e, t) {
    if (!e) throw new fe('Invariant failed');
  }
  var pe = (function () {
      function e() {
        X(this, e), a(this, '_item', null), a(this, '_instance', {});
      }
      return (
        te(e, [
          {
            key: 'set',
            value: function (e, t) {
              this._item ? c(this._item, a({}, e, t)) : (this._instance[e] = t);
            },
          },
          {
            key: 'get',
            value: function (e) {
              return this._item ? f(this._item)[e] : this._instance[e];
            },
          },
          {
            key: 'delete',
            value: function () {
              this._item && d(this._item);
            },
          },
          {
            key: 'setItem',
            value: function (e) {
              (this._item = e),
                c(this._item, this._instance),
                (this._instance = {});
            },
          },
          {
            key: 'getItem',
            value: function () {
              return de(null !== this._item), this._item;
            },
          },
          {
            key: 'hasItem',
            value: function () {
              return null !== this._item;
            },
          },
          {
            key: 'destroy',
            value: function () {
              (this._item = null), (this._instance = {});
            },
          },
        ]),
        e
      );
    })(),
    ge = (function () {
      function e() {
        X(this, e), a(this, '_itemsToRemove', []);
      }
      return (
        te(e, [
          {
            key: 'useInit',
            value: function () {
              this._itemsToRemove = [];
            },
          },
          {
            key: 'removeItem',
            value: function (e) {
              this._itemsToRemove.push(e);
            },
          },
          {
            key: 'getItemsToRemove',
            value: function () {
              return this._itemsToRemove;
            },
          },
          {
            key: 'destroy',
            value: function () {
              this._itemsToRemove = [];
            },
          },
        ]),
        e
      );
    })(),
    he = (function () {
      function e() {
        X(this, e),
          a(this, '_itemsToRefresh', void 0),
          a(this, '_itemsToShow', void 0),
          a(this, '_itemsToHide', void 0),
          a(this, '_isRendering', void 0),
          (this._itemsToRefresh = []),
          (this._itemsToShow = []),
          (this._itemsToHide = []),
          (this._isRendering = !1);
      }
      return (
        te(e, [
          {
            key: 'useInit',
            value: function () {
              var e = this;
              (this._itemsToRefresh = []),
                (this._itemsToShow = []),
                (this._itemsToHide = []),
                (this._isRendering = !0),
                n.useEffect(function () {
                  e._isRendering = !1;
                });
            },
          },
          {
            key: 'refreshItem',
            value: function (e) {
              if (this._isRendering) this._itemsToRefresh.push(e);
              else {
                var t = e.getGrid();
                t.refreshItems([e]), t.layout();
              }
            },
          },
          {
            key: 'setItemVisibility',
            value: function (e, t, n) {
              if (this._isRendering)
                t ? this._itemsToShow.push(e) : this._itemsToHide.push(e);
              else {
                var r = e.getGrid();
                t ? r.show([e], { instant: n }) : r.hide([e], { instant: n });
              }
            },
          },
          {
            key: 'getItemsToRefresh',
            value: function () {
              return this._itemsToRefresh;
            },
          },
          {
            key: 'getItemsToShow',
            value: function () {
              return this._itemsToShow;
            },
          },
          {
            key: 'getItemsToHide',
            value: function () {
              return this._itemsToHide;
            },
          },
          {
            key: 'destroy',
            value: function () {
              (this._itemsToRefresh = []),
                (this._itemsToShow = []),
                (this._itemsToHide = []);
            },
          },
        ]),
        e
      );
    })(),
    me = (function () {
      function e() {
        X(this, e), a(this, '_fiber', void 0), a(this, '_flag', '0');
      }
      return (
        te(e, [
          {
            key: 'useInit',
            value: function (e) {
              var t = this;
              this.updateFlag(),
                n.useEffect(function () {
                  de(null !== e.current),
                    (t._fiber = (function (e) {
                      var t = Object.keys(e).find(function (e) {
                        return (
                          e.startsWith('__reactInternalInstance$') ||
                          e.startsWith('__reactFiber$')
                        );
                      });
                      return de('string' == typeof t), e[t];
                    })(e.current));
                }, []);
            },
          },
          {
            key: 'getStateNodes',
            value: function (e) {
              var t = [];
              if (0 === e.length) return t;
              var n = ve(this._fiber, this._flag).child;
              return (
                e.forEach(function (e) {
                  for (; n.index !== e; ) n = n.sibling;
                  t.push(
                    (function (e) {
                      var t = e.child.child;
                      for (; !(t.stateNode instanceof HTMLElement); )
                        t = t.child;
                      return t.stateNode;
                    })(n)
                  );
                }),
                t
              );
            },
          },
          {
            key: 'append',
            value: function (e) {
              var t = ve(this._fiber, this._flag);
              be(t, e),
                t.alternate && e.alternate && be(t.alternate, e.alternate);
            },
          },
          {
            key: 'remove',
            value: function (e) {
              var t = ve(this._fiber, this._flag),
                n = Ce(t, e);
              return t.alternate && n.alternate && Ce(t.alternate, e), n;
            },
          },
          {
            key: 'getFlagProp',
            value: function () {
              return a({}, ye, this._flag);
            },
          },
          {
            key: 'updateFlag',
            value: function () {
              '0' === this._flag ? (this._flag = '1') : (this._flag = '0');
            },
          },
          {
            key: 'destroy',
            value: function () {
              this._fiber = null;
            },
          },
        ]),
        e
      );
    })(),
    ye = 'muuri-react-flag';
  function ve(e, t) {
    if (!e.alternate) return e;
    var n = e.memoizedProps[ye];
    if (n === e.alternate.memoizedProps[ye]) {
      for (var r = e; r.return; ) r = r.return;
      return r.stateNode.current === r ? e : e.alternate;
    }
    return n === t ? e : e.alternate;
  }
  function be(e, t) {
    var n;
    if (e.child) {
      for (var r = e.child; r.sibling; ) r = r.sibling;
      (t.index = r.index + 1), (r.sibling = t);
    } else (e.child = t), (t.index = 0);
    (t.return = e),
      t._debugOwner &&
        (t._debugOwner =
          null === (n = e.return) || void 0 === n ? void 0 : n.return);
  }
  function Ce(e, t) {
    var n,
      r,
      o,
      i = e.child;
    if (Se(i, t)) {
      for (; Se(i.sibling, t); ) i = i.sibling;
      (o = (r = i).sibling), (r.sibling = r.sibling.sibling), (n = o), Oe(i);
    } else
      (n = (function (e) {
        var t = e.child;
        return (e.child = e.child.sibling), t;
      })(e)),
        (i = i.sibling) && Oe(i);
    return (n.sibling = null), n;
  }
  function Oe(e) {
    for (; e.sibling; ) (e.sibling.index = e.index + 1), (e = e.sibling);
  }
  function Se(e, t) {
    return e.child.child.key !== t;
  }
  var _e = (function () {
    function e() {
      X(this, e),
        a(this, '_oldChildrenArray', []),
        a(this, '_children', []),
        a(this, '_indicesToAdd', []),
        a(this, '_dragCounter', 0);
    }
    return (
      te(e, [
        {
          key: 'useInit',
          value: function (e) {
            var t = n.Children.toArray(e);
            (this._indicesToAdd = we(t, this._oldChildrenArray)),
              (this._children = e || []),
              (this._oldChildrenArray = t);
          },
        },
        {
          key: 'remove',
          value: function (e) {
            return this._oldChildrenArray.splice(e, 1)[0];
          },
        },
        {
          key: 'append',
          value: function (e) {
            this._oldChildrenArray.push(e);
          },
        },
        {
          key: 'getIndicesToAdd',
          value: function () {
            return this._indicesToAdd;
          },
        },
        {
          key: 'render',
          value: function (e) {
            var t = n.Children.map(this._children, function (t) {
              return e(t, t.key);
            });
            return this.flush(), t;
          },
        },
        {
          key: 'incrementDragCounter',
          value: function () {
            this._dragCounter += 1;
          },
        },
        {
          key: 'decrementDragCounter',
          value: function () {
            this._dragCounter -= 1;
          },
        },
        {
          key: 'flush',
          value: function () {
            this._children = [];
          },
        },
        {
          key: 'destroy',
          value: function () {
            this.flush();
          },
        },
      ]),
      e
    );
  })();
  function we(e, t) {
    for (var n = [], r = 0, o = 0; o < e.length; o++) {
      var i = Te(t, e[o], r);
      -1 === i ? n.push(o) : (r = i);
    }
    return n;
  }
  function Te(e, t, n) {
    for (var r = (n = n > e.length ? e.length : n); r < e.length; r++)
      if (Re(t, e[r])) return r;
    for (var o = 0; o < n; o++) if (Re(t, e[o])) return o;
    return -1;
  }
  function Re(e, t) {
    return e.key === t.key;
  }
  var Ee = ['relative', 'absolute', 'fixed'];
  function Pe(e) {
    return n.useRef(e).current;
  }
  function Ie(e) {
    var t = n.useRef(e);
    if (t.current === e) return !0;
    var r = (function (e, t) {
      if (e.length !== t.length) return !0;
      for (var n = 0; n < e.length; n++) if (e[n] !== t[n]) return !0;
      return !1;
    })(t.current, e);
    return (t.current = e), r;
  }
  function je(e) {
    var t = n.useRef();
    return t.current || (t.current = e()), t.current;
  }
  function De() {
    var e = n.useState()[1];
    return Pe(function () {
      e(Object.create(null));
    });
  }
  function xe(e) {
    var t = e.children,
      r = e.itemClasses,
      o = e.itemAddController,
      a = e.itemRemoveController,
      u = e.propsToData,
      s = e.itemKey,
      l = e.grid,
      f = je(function () {
        var e = new ne(),
          t = new pe();
        return (
          t.set('key', s),
          t.set('eventController', e),
          {
            eventController: e,
            itemRefController: t,
            itemRemoveController: a,
            grid: l,
          }
        );
      });
    if (
      (f.itemRefController.set('props', t.props),
      (f.itemRemoveController = a),
      (f.grid = l),
      u)
    ) {
      var d = u(t.props);
      de(
        'object' === h(d),
        "The data returned by 'propsToData' must be an object, founded ".concat(
          h(d)
        )
      ),
        f.itemRefController.set('data', d);
    }
    return (
      n.useEffect(function () {
        return (
          o.requestItem(function (e) {
            !(function (e) {
              c(e, { props: {}, data: {} }),
                Object.defineProperty(e, '_sortData', {
                  get: function () {
                    return this.getData();
                  },
                  set: function () {},
                });
            })(e),
              (function (e, t) {
                e.style.position = 'absolute';
                var n = e.setAttribute.bind(e);
                e.setAttribute = function (r, o) {
                  if ('class' === r) {
                    var i = (e.getAttribute('class') || '')
                      .split(' ')
                      .filter(function (e) {
                        return t.includes(e);
                      });
                    o = ''.concat(o, ' ').concat(i.join(' '));
                  }
                  n(r, o);
                };
              })(e.getElement(), r),
              f.itemRefController.setItem(e);
          }),
          function () {
            var e = f.itemRefController.getItem();
            de(null !== e);
            var t = e.getElement();
            de(void 0 !== t),
              e.isDragging() &&
                ((t.style.display = 'none'),
                (t.style.visibility = 'hidden'),
                e._drag && e._drag.destroy(),
                f.grid.getElement().appendChild(t)),
              f.itemRefController.delete(),
              f.itemRemoveController.removeItem(e),
              f.itemRefController.destroy(),
              f.eventController.destroy();
          }
        );
      }, []),
      i.default.createElement(J, { value: f }, t)
    );
  }
  (xe.propTypes = {
    itemAddController: W.object.isRequired,
    itemClasses: W.arrayOf(W.string.isRequired).isRequired,
    propsToData: W.func,
    children: W.element.isRequired,
    grid: W.instanceOf(o.default).isRequired,
  }),
    (xe.displayName = 'ItemComponent');
  function ke(e) {
    return e._settings.containerClass;
  }
  var Ae = [
    'itemClass',
    'itemVisibleClass',
    'itemHiddenClass',
    'itemPositioningClass',
    'itemDraggingClass',
    'itemReleasingClass',
    'itemPlaceholderClass',
  ];
  function Me(e) {
    return Ae.map(function (t) {
      return e._settings[t];
    });
  }
  function Fe(e, t) {
    var n = Object.keys(e);
    if (Object.getOwnPropertySymbols) {
      var r = Object.getOwnPropertySymbols(e);
      t &&
        (r = r.filter(function (t) {
          return Object.getOwnPropertyDescriptor(e, t).enumerable;
        })),
        n.push.apply(n, r);
    }
    return n;
  }
  function He(e) {
    for (var t = 1; t < arguments.length; t++) {
      var n = null != arguments[t] ? arguments[t] : {};
      t % 2
        ? Fe(Object(n), !0).forEach(function (t) {
            a(e, t, n[t]);
          })
        : Object.getOwnPropertyDescriptors
        ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n))
        : Fe(Object(n)).forEach(function (t) {
            Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t));
          });
    }
    return e;
  }
  function Ge(e, t, n) {
    (n = He(He({}, n || {}), {}, { layout: !1 })),
      'function' == typeof t &&
        (function (e, t, n) {
          e.sort(function (e, n) {
            return t(e.getData(), n.getData(), e, n);
          }, n);
        })(e, t, n),
      'string' == typeof t &&
        (function (e, t, n) {
          e.sort(t, n);
        })(e, t, n),
      Array.isArray(t) &&
        (function (e, t, n) {
          var r = e.getItems(),
            o = [],
            i = [];
          r.forEach(function (e) {
            var n = e._component.key,
              r = t.findIndex(function (e) {
                return e === n;
              });
            r > -1 ? (o[r] = e) : i.push(e);
          }),
            e.sort(
              Array.prototype.concat(
                o.filter(function (e) {
                  return !!e;
                }),
                i
              ),
              n
            );
        })(e, t, n);
  }
  function $e(e) {
    var t = e.children,
      r = e.gridProps,
      o = e.grid,
      a = e.filter,
      u = e.sort,
      l = e.sortOptions,
      d = e.addOptions,
      p = e.propsToData,
      m = e.onSend,
      y = e.onDragStart,
      v = e.onDragEnd,
      b = e.onFilter,
      C = e.onSort,
      O = e.onMount,
      S = e.onUnmount,
      _ = e.forceSync,
      w = e.dragFixed,
      T = e.dragEnabled,
      R = e.instantLayout,
      E = je(function () {
        return {
          gridRef: n.createRef(),
          gridClass: ke(o),
          itemClasses: Me(o),
          childrenController: new _e(),
          fiberController: new me(),
          itemAddController: new re(),
          itemRemoveController: new ge(),
          layoutController: new he(),
          onUnmount: S,
          onDragStart: y,
          onDragEnd: v,
          onFilter: b,
          onSort: C,
          onSend: m,
        };
      }),
      P = {
        indicesToAdd: [],
        addedDOMItems: [],
        itemsToRemove: [],
        itemsToRefresh: [],
        itemsToShow: [],
        itemsToHide: [],
        hasAdded: !1,
        hasRemoved: !1,
        hasFiltered: !1,
        hasSorted: !1,
        hasRefreshed: !1,
        hasShown: !1,
        hasHidden: !1,
      };
    n.useEffect(function () {
      return (
        o
          .on('beforeSend', function (e) {
            var t = e.item,
              n = e.fromGrid,
              r = e.fromIndex;
            f(t).sentPayload ||
              c(t, {
                sentPayload: {
                  fromChildrenController: E.childrenController,
                  fromFiberController: E.fiberController,
                  fromGrid: n,
                  fromIndex: r,
                },
              });
          })
          .on('receive', function (e) {
            var t = e.item,
              n = e.toGrid,
              r = e.toIndex,
              i = E.childrenController,
              a = E.fiberController;
            if (t.isDragging()) {
              c(t, {
                receivedPayload: {
                  toChildrenController: i,
                  toFiberController: a,
                  toGrid: n,
                  toIndex: r,
                },
              });
            } else {
              var u = f(t).sentPayload;
              de(null !== u && 'object' === h(u));
              var s = u.fromChildrenController,
                l = u.fromFiberController;
              c(t, { sentPayload: null });
              var d = l.remove(t.getKey()),
                p = s.remove(d.index);
              a.append(d), i.append(p);
            }
            f(t).eventController.emitEvent('send', o);
          })
          .on('dragInit', function (e, t) {
            E.childrenController.incrementDragCounter(),
              f(e).eventController.emitEvent('drag', !0),
              E.onDragStart && E.onDragStart(e, t);
          })
          .on('dragEnd', function (e) {
            var t = f(e).sentPayload,
              n = f(e).receivedPayload;
            if (t && n) {
              var r = t.fromChildrenController,
                o = t.fromFiberController,
                i = t.fromGrid,
                a = t.fromIndex,
                u = n.toChildrenController,
                s = n.toFiberController,
                l = n.toGrid,
                d = n.toIndex;
              if (
                (c(e, { sentPayload: null, receivedPayload: null }), i !== l)
              ) {
                de('function' == typeof E.onSend);
                var p = o.remove(e.getKey()),
                  g = r.remove(p.index);
                s.append(p),
                  u.append(g),
                  E.onSend({
                    key: f(e).key,
                    fromGrid: i,
                    fromIndex: a,
                    fromId: f(i).id,
                    fromGroupIds: f(i).groupIds,
                    toGrid: l,
                    toIndex: d,
                    toId: f(l).id,
                    toGroupIds: f(l).groupIds,
                  });
              }
            }
          })
          .on('dragReleaseEnd', function (e) {
            E.childrenController.decrementDragCounter(),
              f(e).eventController.emitEvent('drag', !1),
              E.onDragEnd && E.onDragEnd(e);
          })
          .on('showStart', function (e) {
            s(e[0]) &&
              e.forEach(function (e) {
                var t = f(e).eventController;
                !0 !== t.getPayload('show') && t.emitEvent('show', !0);
              });
          })
          .on('hideEnd', function (e) {
            e.forEach(function (e) {
              var t = f(e).eventController;
              !1 !== t.getPayload('show') && t.emitEvent('show', !1);
            });
          })
          .on('filter', function (e, t) {
            E.onFilter && E.onFilter(e, t);
          })
          .on('sort', function (e, t) {
            E.onSort && E.onSort(e, t);
          }),
        w &&
          o
            .on('dragInit', function (e) {
              var t = e.getElement();
              de(void 0 !== t);
              var n = getComputedStyle(t),
                r = n.width,
                o = n.height,
                i = n.paddingTop;
              c(e, {
                dragWidth: t.style.width,
                dragHeight: t.style.height,
                dragPaddingTop: t.style.paddingTop,
              }),
                (t.style.width = r),
                (t.style.height = o),
                (t.style.paddingTop = i);
            })
            .on('dragReleaseEnd', function (e) {
              var t = e.getElement();
              de(void 0 !== t);
              var n = f(e),
                r = n.dragWidth,
                o = n.dragHeight,
                i = n.dragPaddingTop;
              (t.style.width = r),
                (t.style.height = o),
                (t.style.paddingTop = i);
            }),
        de(null !== E.gridRef.current),
        (o._element = E.gridRef.current),
        (function (e, t) {
          var n = getComputedStyle(e).position;
          Ee.includes(n) || (e.style.position = Ee[0]), e.classList.add(t);
          var r = e.setAttribute.bind(e);
          e.setAttribute = function (n, o) {
            'class' === n &&
              ((e.getAttribute('class') || '').split(' ').includes(t) ||
                (o = ''.concat(o, ' ').concat(t)));
            r(n, o);
          };
        })(E.gridRef.current, E.gridClass),
        (function (e) {
          var t = document.createElement('div');
          (t.style.visibility = 'hidden'),
            (t.style.position = 'absolute'),
            t.classList.add('grid-sizer'),
            c(e, { sizerElement: t });
          var n = e.getElement();
          0 === n.children.length
            ? n.appendChild(t)
            : n.insertBefore(t, n.children[0]);
        })(o),
        O && O(o),
        function () {
          E.childrenController.destroy(),
            E.fiberController.destroy(),
            E.itemRemoveController.destroy(),
            E.itemAddController.destroy(),
            E.layoutController.destroy();
        }
      );
    }, []),
      E.childrenController.useInit(t),
      E.fiberController.useInit(E.gridRef),
      E.itemRemoveController.useInit(),
      E.itemAddController.useInit(),
      E.layoutController.useInit();
    var I = Ie([a]),
      j = Ie([u, l]);
    n.useEffect(function () {
      c(o, { dragEnabled: T }),
        (P.indicesToAdd = E.childrenController.getIndicesToAdd()),
        (P.addedDOMItems = E.fiberController.getStateNodes(P.indicesToAdd)),
        (P.itemsToRemove = E.itemRemoveController.getItemsToRemove()),
        (P.itemsToRefresh = E.layoutController.getItemsToRefresh()),
        (P.itemsToShow = E.layoutController.getItemsToShow()),
        (P.itemsToHide = E.layoutController.getItemsToHide()),
        (E.onUnmount = S),
        (E.onDragStart = y),
        (E.onDragEnd = v),
        (E.onFilter = b),
        (E.onSort = C),
        (E.onSend = m);
    }),
      n.useEffect(function () {
        if (
          (P.itemsToRemove.length &&
            (!(function (e, t) {
              e.remove(t, { layout: !1, removeElements: !1 });
            })(o, P.itemsToRemove),
            (P.hasRemoved = !0)),
          P.indicesToAdd.length)
        ) {
          !(function (e, t, n, r, o) {
            for (var i = 0; i < t.length; i++)
              e.add(t[i], { index: n[i], layout: !1 });
            !o && null != r && r.show && e.show(e.getItems(n), { layout: !1 });
          })(o, P.addedDOMItems, P.indicesToAdd, d, a);
          var e = o.getItems(P.indicesToAdd);
          E.itemAddController.emit(e), (P.hasAdded = !0);
        }
        a &&
          (I || P.hasAdded || _) &&
          (!(function (e, t) {
            e.filter(
              function (e) {
                return t(e.getData(), e);
              },
              { layout: !1 }
            );
          })(o, a),
          (P.hasFiltered = !0)),
          u && (j || P.hasAdded || _) && (Ge(o, u, l), (P.hasSorted = !0)),
          !a &&
            P.itemsToShow.length &&
            (!(function (e, t) {
              e.show(t, { layout: !1 });
            })(o, P.itemsToShow),
            (P.hasShown = !0)),
          !a &&
            P.itemsToHide.length &&
            (!(function (e, t) {
              e.hide(t, { layout: !1 });
            })(o, P.itemsToHide),
            (P.hasHidden = !0)),
          P.itemsToRefresh.length &&
            (o.refreshItems(P.itemsToRefresh), (P.hasRefreshed = !0)),
          (P.hasAdded ||
            P.hasRemoved ||
            P.hasSorted ||
            P.hasFiltered ||
            P.hasRefreshed ||
            P.hasShown ||
            P.hasHidden) &&
            o.layout(R);
      });
    var D = je(function () {
      return { layoutController: E.layoutController, grid: o };
    });
    return i.default.createElement(
      K,
      { value: D },
      i.default.createElement(
        'div',
        g({}, r, { ref: E.gridRef }, E.fiberController.getFlagProp()),
        E.childrenController.render(function (e, t) {
          return i.default.createElement(
            xe,
            {
              key: t,
              itemKey: t,
              grid: o,
              propsToData: p,
              itemClasses: E.itemClasses,
              itemAddController: E.itemAddController,
              itemRemoveController: E.itemRemoveController,
            },
            e
          );
        })
      )
    );
  }
  function qe(e, t) {
    if (null == e) return {};
    var n,
      r,
      o = (function (e, t) {
        if (null == e) return {};
        var n,
          r,
          o = {},
          i = Object.keys(e);
        for (r = 0; r < i.length; r++)
          (n = i[r]), t.indexOf(n) >= 0 || (o[n] = e[n]);
        return o;
      })(e, t);
    if (Object.getOwnPropertySymbols) {
      var i = Object.getOwnPropertySymbols(e);
      for (r = 0; r < i.length; r++)
        (n = i[r]),
          t.indexOf(n) >= 0 ||
            (Object.prototype.propertyIsEnumerable.call(e, n) && (o[n] = e[n]));
    }
    return o;
  }
  ($e.propTypes = {
    grid: W.object.isRequired,
    gridProps: W.object,
    filter: W.oneOfType([W.string, W.func]),
    sort: W.oneOfType([W.string, W.func, W.arrayOf(W.string)]),
    sortOptions: W.exact({ descending: W.bool }),
    addOptions: W.exact({ show: W.bool }),
    onSend: W.func,
    onDragStart: W.func,
    onDragEnd: W.func,
    onFilter: W.func,
    onSort: W.func,
    onMount: W.func,
    onUnmount: W.func,
    forceSync: W.bool,
    dragFixed: W.bool,
    dragEnabled: W.bool,
    instantLayout: W.bool,
  }),
    ($e.defaultProps = {
      gridProps: {},
      addOptions: { show: !0 },
      sortOptions: { descending: !1 },
      forceSync: !1,
      dragFixed: !1,
      dragEnabled: !1,
      instantLayout: !1,
    }),
    ($e.displayName = 'GridComponent');
  var Le = (function () {
      function e() {
        X(this, e),
          a(this, '_idMap', new Map()),
          a(this, '_groupMap', new Map());
      }
      return (
        te(e, [
          {
            key: 'get',
            value: function (e) {
              return this._idMap.get(e) || null;
            },
          },
          {
            key: 'getGroup',
            value: function (e) {
              var t = this._groupMap.get(e);
              if (t) return t;
              var n = [];
              return this._groupMap.set(e, n), n;
            },
          },
          {
            key: 'getAll',
            value: function () {
              return Array.from(this._idMap.values());
            },
          },
          {
            key: 'set',
            value: function (e, t) {
              return this._idMap.set(t, e), this;
            },
          },
          {
            key: 'setGroup',
            value: function (e, t) {
              var n = this._groupMap.get(t);
              return n ? n.push(e) : this._groupMap.set(t, [e]), this;
            },
          },
          {
            key: 'delete',
            value: function (e) {
              return this._idMap.delete(e), this;
            },
          },
          {
            key: 'deleteGroup',
            value: function (e, t) {
              var n = this._groupMap.get(t);
              if (n) {
                var r = n.indexOf(e);
                r > -1 && n.splice(r, 1);
              }
              return this;
            },
          },
          {
            key: 'clear',
            value: function () {
              return this._idMap.clear(), this._groupMap.clear(), this;
            },
          },
        ]),
        e
      );
    })(),
    ze = new Le();
  function Ne(e, t) {
    e && ('function' == typeof e ? e(t) : 'current' in e && (e.current = t));
  }
  function Ve(e) {
    return e instanceof HTMLElement || e instanceof window.constructor;
  }
  function Ue(e) {
    var t = (function (e) {
      return 'function' == typeof e
        ? e
        : function (t, n) {
            return o.default.ItemDrag.defaultStartPredicate(t, n, e);
          };
    })(e.dragStartPredicate);
    e.dragStartPredicate = function (e, n) {
      return (
        !!f(e.getGrid()).dragEnabled &&
        (!s(e) || !1 !== f(e).draggable) &&
        t(e, n)
      );
    };
  }
  function We(e, t) {
    var n = Object.keys(e);
    if (Object.getOwnPropertySymbols) {
      var r = Object.getOwnPropertySymbols(e);
      t &&
        (r = r.filter(function (t) {
          return Object.getOwnPropertyDescriptor(e, t).enumerable;
        })),
        n.push.apply(n, r);
    }
    return n;
  }
  function Be(e) {
    for (var t = 1; t < arguments.length; t++) {
      var n = null != arguments[t] ? arguments[t] : {};
      t % 2
        ? We(Object(n), !0).forEach(function (t) {
            a(e, t, n[t]);
          })
        : Object.getOwnPropertyDescriptors
        ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n))
        : We(Object(n)).forEach(function (t) {
            Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t));
          });
    }
    return e;
  }
  var Ke = n.forwardRef(function (e, t) {
    var r,
      a,
      u,
      s = e.children,
      l = e.id,
      f = e.groupIds,
      p = e.gridProps,
      g = e.filter,
      m = e.sort,
      y = e.sortOptions,
      v = e.addOptions,
      b = e.propsToData,
      C = e.onSend,
      O = e.onDragStart,
      S = e.onDragEnd,
      _ = e.onFilter,
      w = e.onSort,
      T = e.onMount,
      R = e.onUnmount,
      E = e.forceSync,
      P = e.dragFixed,
      I = e.dragEnabled,
      j = e.instantLayout,
      D = qe(e, [
        'children',
        'id',
        'groupIds',
        'gridProps',
        'filter',
        'sort',
        'sortOptions',
        'addOptions',
        'propsToData',
        'onSend',
        'onDragStart',
        'onDragEnd',
        'onFilter',
        'onSort',
        'onMount',
        'onUnmount',
        'forceSync',
        'dragFixed',
        'dragEnabled',
        'instantLayout',
      ]),
      x = je(function () {
        (D.items = []),
          (D.dragEnabled = null !== I),
          (function (e, t) {
            var n = e.dragSort;
            if (n && 'object' === h(n)) {
              de('string' == typeof n.groupId);
              var r = t.getGroup(n.groupId);
              e.dragSort = function () {
                return r;
              };
            }
          })(D, ze),
          (function (e) {
            var t = e.dragAutoScroll;
            t &&
              Array.isArray(t.targets) &&
              t.targets.forEach(function (e) {
                if (!Ve(e)) {
                  de('element' in e);
                  var t = e.element,
                    n = { current: null };
                  Object.defineProperty(e, 'element', {
                    get: function () {
                      return n.current;
                    },
                    set: function (e) {
                      Ve(e) ? (n.current = e) : (n = e);
                    },
                  }),
                    (e.element = t);
                }
              });
          })(D),
          Ue(D);
        var e = (function (e) {
          var t = document.createElement('div');
          (t.style.display = 'none'), document.body.appendChild(t);
          var n = new o.default(t, e);
          return document.body.removeChild(t), n;
        })(D);
        return (
          (function (e) {
            var t = e.dragContainer,
              n = { current: null };
            Object.defineProperty(e, 'dragContainer', {
              get: function () {
                return n.current;
              },
              set: function (e) {
                !e || e instanceof Element ? (n.current = e) : (n = e);
              },
            }),
              (e.dragContainer = t);
          })(e._settings),
          l && ze.set(e, l),
          c(e, { id: l }),
          Ne(t, e),
          e
        );
      });
    return (
      n.useEffect(function () {
        return function () {
          Ne(t, null), d(x), l && ze.delete(l), x.destroy();
        };
      }, []),
      (r = function () {
        return (
          c(x, { groupIds: f }),
          f &&
            f.forEach(function (e) {
              ze.setGroup(x, e);
            }),
          function () {
            f &&
              f.forEach(function (e) {
                ze.deleteGroup(x, e);
              });
          }
        );
      }),
      (a = Ie(f || [])),
      (u = n.useRef()),
      a && (u.current && u.current(), (u.current = r())),
      n.useEffect(function () {
        return function () {
          u.current && u.current();
        };
      }, []),
      i.default.createElement(
        $e,
        {
          grid: x,
          gridProps: p,
          filter: g,
          sort: m,
          sortOptions: y,
          addOptions: v,
          propsToData: b,
          onSend: C,
          onDragStart: O,
          onDragEnd: S,
          onFilter: _,
          onSort: w,
          onMount: T,
          onUnmount: R,
          forceSync: E,
          dragFixed: P,
          dragEnabled: I,
          instantLayout: j,
        },
        s
      )
    );
  });
  function Ze(e, t) {
    var n = Q().itemRefController;
    de(void 0 !== n);
    var r = Pe(function (e, t) {
      if (
        (de(
          'object' === h(e),
          'The data must be an object, founded: '.concat(h(e))
        ),
        (t = t || Ze.defaultOptions).merge)
      ) {
        var r = n.get('data') || {};
        n.set('data', Object.assign(r, e));
      } else n.set('data', e);
    });
    return 'object' === h(e) && r(e, t), r;
  }
  function Ye() {
    var e = Q().eventController,
      t = De();
    return (
      de(void 0 !== e),
      n.useEffect(
        function () {
          e.enableEvent('drag', t);
        },
        [e, t]
      ),
      e.getPayload('drag') || !1
    );
  }
  function Je() {
    var e = Q().itemRefController;
    return (
      de(void 0 !== e),
      Pe(function (t) {
        e.set('draggable', !!t);
      })
    );
  }
  function Qe() {
    var e = Q().eventController,
      t = Z(),
      r = De();
    de(void 0 !== e && void 0 !== t.grid);
    var o = e.getPayload('send') || t.grid;
    return (
      n.useEffect(
        function () {
          e.enableEvent('send', r);
        },
        [e, r]
      ),
      { id: o._component.id, groupIds: o._component.groupIds, grid: o }
    );
  }
  function Xe() {
    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [],
      t = Z(),
      r = t.layoutController,
      o = Q(),
      i = o.itemRefController;
    de(void 0 !== i && void 0 !== r);
    var a = n.useCallback(
      function () {
        if (i.hasItem()) {
          var e = i.getItem();
          r.refreshItem(e);
        }
      },
      [r, i]
    );
    return (
      n.useEffect(function () {
        a();
      }, e.concat(a)),
      a
    );
  }
  function et() {
    var e = Q().eventController,
      t = De();
    return (
      de(void 0 !== e),
      n.useEffect(
        function () {
          e.enableEvent('show', t);
        },
        [e, t]
      ),
      e.getPayload('show')
    );
  }
  function tt() {
    var e = Z().layoutController,
      t = Q(),
      n = t.eventController,
      r = t.itemRefController;
    return (
      de(void 0 !== r && void 0 !== e && void 0 !== n),
      Pe(function (t, o) {
        r.hasItem() &&
          !!t !== n.getPayload('show') &&
          ((o = o || tt.defaultOptions),
          e.setItemVisibility(r.getItem(), t, !0 === o.instant));
      })
    );
  }
  (Ke.propTypes = {
    id: W.string,
    groupIds: W.arrayOf(W.string.isRequired),
    showDuration: W.number,
    showEasing: W.string,
    hideDuration: W.number,
    hideEasing: W.string,
    visibleStyles: W.shape({}),
    hiddenStyles: W.shape({}),
    layout: W.oneOfType([
      W.func,
      W.exact({
        fillGaps: W.bool,
        horizontal: W.bool,
        alignRight: W.bool,
        alignBottom: W.bool,
        rounding: W.bool,
      }),
    ]),
    layoutOnResize: W.oneOfType([W.bool, W.number]),
    layoutDuration: W.number,
    layoutEasing: W.string,
    dragContainer: W.oneOfType([
      W.instanceOf(HTMLElement),
      W.shape({ current: W.instanceOf(HTMLElement).isRequired }),
    ]),
    dragHandle: W.string,
    dragStartPredicate: W.oneOfType([
      W.func,
      W.exact({ distance: W.number, delay: W.number }),
    ]),
    dragAxis: W.oneOf(['x', 'y', 'xy']),
    dragSort: W.oneOfType([
      W.bool,
      W.func,
      W.exact({ groupId: W.string.isRequired }),
    ]),
    dragSortHeuristics: W.exact({
      sortInterval: W.number,
      minDragDistance: W.number,
      minBounceBackAngle: W.number,
    }),
    dragSortPredicate: W.oneOfType([
      W.func,
      W.exact({
        action: W.oneOf(['move', 'swap']),
        migrateAction: W.oneOf(['move', 'swap']),
        threshold: W.number,
      }),
    ]),
    dragRelease: W.exact({
      duration: W.number,
      easing: W.string,
      useDragContainer: W.bool,
    }),
    dragCssProps: W.exact({
      touchAction: W.string,
      userSelect: W.string,
      userDrag: W.string,
      tapHighlightColor: W.string,
      touchCallout: W.string,
      contentZooming: W.string,
    }),
    dragPlaceholder: W.exact({
      enabled: W.bool,
      createElement: W.func,
      onCreate: W.func,
      onRemove: W.func,
    }),
    dragAutoScroll: W.exact({
      targets: W.oneOfType([
        W.instanceOf(window.constructor),
        W.instanceOf(HTMLElement),
        W.shape({
          current: W.oneOfType([
            W.instanceOf(window.constructor),
            W.instanceOf(HTMLElement),
          ]),
        }),
        W.func,
        W.arrayOf(
          W.exact({
            element: W.oneOfType([
              W.instanceOf(window.constructor),
              W.instanceOf(HTMLElement),
              W.shape({
                current: W.oneOfType([
                  W.instanceOf(window.constructor),
                  W.instanceOf(HTMLElement),
                ]),
              }),
            ]).isRequired,
            axis: W.number,
            priority: W.number,
            threshold: W.number,
          }).isRequired
        ),
      ]).isRequired,
      handle: W.func,
      threshold: W.number,
      safeZone: W.number,
      speed: W.oneOfType([W.number, W.func]),
      sortDuringScroll: W.bool,
      syncAfterScroll: W.bool,
      smoothStop: W.bool,
      onStart: W.func,
      onStop: W.func,
    }),
    containerClass: W.string,
    itemClass: W.string,
    itemVisibleClass: W.string,
    itemHiddenClass: W.string,
    itemPositioningClass: W.string,
    itemDraggingClass: W.string,
    itemReleasingClass: W.string,
    itemPlaceholderClass: W.string,
  }),
    (Ke.defaultProps = Be(
      Be({}, o.default.defaultOptions),
      {},
      { dragEnabled: null }
    )),
    (Ke.displayName = 'MuuriComponent'),
    (Ze.defaultOptions = { merge: !1 }),
    (tt.defaultOptions = { instant: !1 });
  var nt = Object.freeze({
    __proto__: null,
    useData: Ze,
    useDrag: Ye,
    useDraggable: Je,
    useGrid: Qe,
    useRefresh: Xe,
    useShow: et,
    useVisibility: tt,
  });
  function rt(e) {
    de('object' === h(e)),
      de('number' == typeof e.columns && e.columns > 0 && e.columns <= 1),
      de(
        'number' == typeof e.ratio ||
          'number' == typeof e.height ||
          'string' == typeof e.height
      ),
      de(
        'number' != typeof e.ratio ||
          ('number' != typeof e.height && 'string' != typeof e.height)
      );
    var t,
      n = (function (e) {
        'number' == typeof e && (e = ''.concat(e, 'px'));
        var t = e.trim().split(' '),
          n = '0px',
          r = '0px',
          o = 0,
          i = 0;
        1 === t.length
          ? (n = r = t[0])
          : 2 === t.length || 3 === t.length
          ? (n = r = t[1])
          : 4 === t.length && ((n = t[3]), (r = t[1]));
        -1 === n.indexOf('%') ? (i += parseFloat(n)) : (o += parseFloat(n));
        -1 === r.indexOf('%') ? (i += parseFloat(r)) : (o += parseFloat(r));
        return { margin: e, mStatic: i, mDynamic: o };
      })(e.margin || '0px'),
      r = n.margin,
      o = n.mStatic,
      i = n.mDynamic,
      a = (function (e, t, n) {
        var r = 0 !== t,
          o = 100 * e - n,
          i = r ? ''.concat(o, '% - ').concat(t, 'px') : ''.concat(o, '%');
        return { needCalc: r, width: i };
      })(e.columns, o, i),
      u = a.needCalc,
      s = a.width;
    return e.ratio
      ? {
          width: u ? 'calc('.concat(s, ')') : s,
          paddingTop: ot(s, e.ratio, u),
          height: '0px',
          borderWidth: '0px',
          margin: r,
        }
      : {
          width: u ? 'calc('.concat(s, ')') : s,
          paddingTop: '0px',
          height:
            ((t = e.height), 'number' == typeof t ? ''.concat(t, 'px') : t),
          borderWidth: '0px',
          margin: r,
        };
  }
  function ot(e, t, n) {
    return n
      ? 'calc(('.concat(e, ') / ').concat(t, ')')
      : ''.concat(parseFloat(e) / t, '%');
  }
  function it(e, t) {
    (null == t || t > e.length) && (t = e.length);
    for (var n = 0, r = new Array(t); n < t; n++) r[n] = e[n];
    return r;
  }
  function at(e, t) {
    if (e) {
      if ('string' == typeof e) return it(e, t);
      var n = Object.prototype.toString.call(e).slice(8, -1);
      return (
        'Object' === n && e.constructor && (n = e.constructor.name),
        'Map' === n || 'Set' === n
          ? Array.from(e)
          : 'Arguments' === n ||
            /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)
          ? it(e, t)
          : void 0
      );
    }
  }
  function ut(e, t) {
    return (
      (function (e) {
        if (Array.isArray(e)) return e;
      })(e) ||
      (function (e, t) {
        if ('undefined' != typeof Symbol && Symbol.iterator in Object(e)) {
          var n = [],
            r = !0,
            o = !1,
            i = void 0;
          try {
            for (
              var a, u = e[Symbol.iterator]();
              !(r = (a = u.next()).done) &&
              (n.push(a.value), !t || n.length !== t);
              r = !0
            );
          } catch (e) {
            (o = !0), (i = e);
          } finally {
            try {
              r || null == u.return || u.return();
            } finally {
              if (o) throw i;
            }
          }
          return n;
        }
      })(e, t) ||
      at(e, t) ||
      (function () {
        throw new TypeError(
          'Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.'
        );
      })()
    );
  }
  function st(e) {
    return (
      (function (e) {
        if (Array.isArray(e)) return it(e);
      })(e) ||
      (function (e) {
        if ('undefined' != typeof Symbol && Symbol.iterator in Object(e))
          return Array.from(e);
      })(e) ||
      at(e) ||
      (function () {
        throw new TypeError(
          'Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.'
        );
      })()
    );
  }
  var lt = [
      'useData',
      'useDrag',
      'useDraggable',
      'useGrid',
      'useRefresh',
      'useShow',
      'useVisibility',
    ],
    ct = [
      ['useData', ft('setData')],
      ['useDrag', ft('isDragging')],
      ['useDraggable', ft('setDraggable')],
      ['useGrid', ft('gridData')],
      ['useRefresh', ft('refresh')],
      ['useShow', ft('isShowing')],
      ['useVisibility', ft('setVisibility')],
    ];
  function ft(e) {
    return function (t) {
      return a({}, e, t);
    };
  }
  var dt = o.default.AutoScroller,
    pt = o.default.ItemDrag;
  (e.AutoScroller = dt),
    (e.ChildrenController = _e),
    (e.EventController = ne),
    (e.FiberController = me),
    (e.FlagProp = ye),
    (e.GridComponent = $e),
    (e.GridContext = B),
    (e.GridProvider = K),
    (e.ItemAddController = re),
    (e.ItemComponent = xe),
    (e.ItemContext = Y),
    (e.ItemDrag = pt),
    (e.ItemProvider = J),
    (e.ItemRefController = pe),
    (e.ItemRemoveController = ge),
    (e.LayoutController = he),
    (e.MuuriComponent = Ke),
    (e.MuuriMap = Le),
    (e.getHandler = ft),
    (e.getIndicesToAdd = we),
    (e.getResponsiveStyle = rt),
    (e.getStaticStyle = function (e) {
      var t = rt(e);
      de('grid' in e);
      var n = e.grid.getSizerElement();
      Object.assign(n.style, t);
      var r = window.getComputedStyle(n);
      return {
        width: r.width,
        height: r.height,
        paddingTop: r.paddingTop,
        margin: r.margin,
      };
    }),
    (e.muuriMap = ze),
    (e.useData = Ze),
    (e.useDrag = Ye),
    (e.useDraggable = Je),
    (e.useGrid = Qe),
    (e.useGridContext = Z),
    (e.useItemContext = Q),
    (e.useRefresh = Xe),
    (e.useShow = et),
    (e.useVisibility = tt),
    (e.withHooks = function (e, t) {
      de(Array.isArray(t)),
        t.forEach(function (e) {
          de(lt.includes(e));
        }),
        de(0 !== t.length);
      var n = ct.filter(function (e) {
        var n = ut(e, 1)[0];
        return t.includes(n);
      });
      return function (t) {
        return i.default.createElement(
          e,
          g(
            {},
            t,
            (function (e) {
              return Object.assign.apply(
                Object,
                [{}].concat(
                  st(
                    e.map(function (e) {
                      var t = ut(e, 2),
                        n = t[0];
                      return (0, t[1])(nt[n]());
                    })
                  )
                )
              );
            })(n)
          )
        );
      };
    }),
    Object.defineProperty(e, '__esModule', { value: !0 });
});
